{% extends 'accounts/main.html' %}

{% block content %}

<div class="container-fluid">
    <div class="row">

        <!-- Most Ordered Product Card -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    Most Ordered Product
                </div>
                <div class="card-body">
                    <canvas id="most-ordered-product-chart" width="200" height="200"></canvas>
                </div>
            </div>
        </div>

        <!-- Most Ordered Color Card -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    Most Ordered Color
                </div>
                <div class="card-body">
                    <canvas id="most-ordered-color-chart" width="200" height="200"></canvas>
                </div>
            </div>
        </div>

        <!-- Most Ordered Fabric Card -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    Most Ordered Fabric
                </div>
                <div class="card-body">
                    <canvas id="most-ordered-fabric-chart" width="200" height="200"></canvas>
                </div>
            </div>
        </div>

        <!-- Top Customer Card -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    Top Customer
                </div>
                <div class="card-body">
                    <canvas id="top-customer-chart" width="200" height="200"></canvas>
                </div>
            </div>
        </div>

        <!-- Most Ordered Address Card -->
        <div class="col-md-12 mt-4">
            <div class="card">
                <div class="card-header">
                    Address with Most Orders
                </div>
                <div class="card-body">
                    <canvas id="most-ordered-address-chart" width="200" height="100"></canvas>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Most Ordered Product Chart
        new Chart('most-ordered-product-chart', {
            type: 'doughnut', // Use doughnut chart for most ordered product
            data: {
                labels: {{ most_ordered_product_labels | safe }},
                datasets: [{
                    label: 'Most Ordered Product',
                    data: {{ most_ordered_product_counts | safe }},
                    backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(54, 162, 235, 0.5)', 'rgba(255, 206, 86, 0.5)', 'rgba(75, 192, 192, 0.5)', 'rgba(153, 102, 255, 0.5)'],
                    borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)'],
                    borderWidth: 1
                }]
            }
        });
    
        // Most Ordered Color Chart
        new Chart('most-ordered-color-chart', {
            type: 'polarArea', // Use polar area chart for most ordered color
            data: {
                labels: {{ most_ordered_color_labels | safe }},
                datasets: [{
                    label: 'Most Ordered Color',
                    data: {{ most_ordered_color_counts | safe }},
                    backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(54, 162, 235, 0.5)', 'rgba(255, 206, 86, 0.5)', 'rgba(75, 192, 192, 0.5)', 'rgba(153, 102, 255, 0.5)'],
                    borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)'],
                    borderWidth: 1
                }]
            }
        });
    
        // Most Ordered Fabric Chart
        new Chart('most-ordered-fabric-chart', {
            type: 'pie', // Use pie chart for most ordered fabric
            data: {
                labels: {{ most_ordered_fabric_labels | safe }},
                datasets: [{
                    label: 'Most Ordered Fabric',
                    data: {{ most_ordered_fabric_counts | safe }},
                    backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(54, 162, 235, 0.5)', 'rgba(255, 206, 86, 0.5)', 'rgba(75, 192, 192, 0.5)', 'rgba(153, 102, 255, 0.5)'],
                    borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)'],
                    borderWidth: 1
                }]
            }
        });
    
        // Top Customer Chart
        new Chart('top-customer-chart', {
            type: 'bar', // Use bar chart for top customer
            data: {
                labels: {{ top_customer_labels | safe }},
                datasets: [{
                    label: 'Top Customer',
                    data: {{ top_customer_order_counts | safe }},
                    backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(54, 162, 235, 0.5)', 'rgba(255, 206, 86, 0.5)', 'rgba(75, 192, 192, 0.5)', 'rgba(153, 102, 255, 0.5)'],
                    borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)'],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    
        // Most Ordered Address Chart
        new Chart('most-ordered-address-chart', {
            type: 'bar', // Use bar chart for most ordered address
            data: {
                labels: {{ most_ordered_address_labels | safe }},
                datasets: [{
                    label: 'Address with Most Orders',
                    data: {{ most_ordered_address_counts | safe }},
                    backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(54, 162, 235, 0.5)', 'rgba(255, 206, 86, 0.5)', 'rgba(75, 192, 192, 0.5)', 'rgba(153, 102, 255, 0.5)'],
                    borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)'],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    });
    </script>
    

{% endblock %}
